{"version":3,"sources":["../../src/pages/user-update/user-update.module.ts","../../src/pages/user-update/user-update.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { UserUpdatePage } from './user-update';\n\n@NgModule({\n  declarations: [\n    UserUpdatePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(UserUpdatePage),\n  ],\n})\nexport class UserUpdatePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user-update/user-update.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Events } from 'ionic-angular';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { ShareServiceProvider } from '../../providers/share-service/share-service';\nimport { AuthServiceProvider } from '../../providers/auth-service/auth-service';\nimport { UserServiceProvider } from '../../providers/user-service/user-service';\n\n/**\n * Generated class for the UserUpdatePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-user-update',\n  templateUrl: 'user-update.html',\n})\nexport class UserUpdatePage {\n\n  name: string;\n  phone: any;\n  email: any;\n  imgSrc: string;\n  userData: any;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public camera: Camera,\n    public shareServiceProvider: ShareServiceProvider,\n    public authServiceProvider: AuthServiceProvider,\n    public userServiceProvider: UserServiceProvider,\n    public events: Events\n    ) {\n      this.userData = this.navParams.data;\n      this.name = this.userData.name;\n      this.phone = this.userData.phone;\n      this.email = this.userData.email;\n      this.imgSrc = this.userData.img;\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad UserUpdatePage');\n  }\n\n  takeImage(){\n    const options: CameraOptions = {\n      quality: 65,\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE\n    }\n    this.camera.getPicture(options).then((imageData) => {\n      // imageData is either a base64 encoded string or a file URI\n      // If it's base64:\n      let base64Image = 'data:image/jpeg;base64,' + imageData;\n      this.imgSrc = base64Image;\n      \n    }, (err) => {\n      // Handle error\n    });\n  }\n\n  update() {\n    this.shareServiceProvider.showLoading();\n    var photoName = Date.now();\n    this.userServiceProvider.uploadUserImage(this.imgSrc, photoName, this.authServiceProvider.getLoggedUID()).then(url => {\n      url.subscribe(u => {\n        this.userServiceProvider.updateUser(u, this.name, this.email, this.phone, this.authServiceProvider.getLoggedUID()).then(() => {\n          this.shareServiceProvider.hideLoading();\n\n          this.authServiceProvider.userData.img = u;\n          this.authServiceProvider.userData.name = this.name;\n          this.authServiceProvider.userData.email = this.email;\n          this.authServiceProvider.userData.phone = this.phone;\n\n          var user = {\n            img: u,\n            name: this.name,\n            phone: this.phone,\n            email: this.email\n          }\n\n          this.events.publish('user:updated', user);\n\n          this.shareServiceProvider.showAlertWithTitle(\"Update successfully\", \"Great\");\n\n\n\n        })\n      })\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user-update/user-update.ts"],"sourceRoot":""}